# ============================================
# HONESTLY TRUTH ENGINE - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and customize for your environment
# NEVER commit .env to version control!

# ============================================
# CORE SETTINGS
# ============================================

# Application environment (development, staging, production)
APP_ENV=development

# Server host and port
HOST=0.0.0.0
PORT=8000

# Debug mode (disable in production!)
DEBUG=true

# ============================================
# DATABASE - NEO4J
# ============================================

NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASS=your-secure-password-here

# ============================================
# AUTHENTICATION
# ============================================

# JWT Secret for HS256 fallback (generate with: openssl rand -hex 64)
JWT_SECRET=your-jwt-secret-here-generate-with-openssl-rand-hex-64

# OIDC/JWKS Configuration (for RS256/ES256)
OIDC_ISSUER=https://your-identity-provider.com
JWKS_URI=https://your-identity-provider.com/.well-known/jwks.json

# Allow HS256 fallback (set to false in production if using OIDC)
ALLOW_HS_FALLBACK=true

# API Key for /ai/* endpoints (generate with: openssl rand -hex 32)
AI_API_KEY=your-api-key-here

# ============================================
# VAULT ENCRYPTION
# ============================================

# Vault master key loading method: env, file, kms
VAULT_KEY_SOURCE=env

# Vault master key (32 bytes hex, generate with: openssl rand -hex 32)
VAULT_MASTER_KEY=your-vault-master-key-here

# Allow generated vault key in development (NEVER in production!)
ALLOW_GENERATED_VAULT_KEY=true

# ============================================
# CORS & SECURITY
# ============================================

# Allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Strict CORS mode (fail if ALLOWED_ORIGINS not explicitly set)
STRICT_CORS=false

# Enable CORS
ENABLE_CORS=true

# Enable security headers (X-Frame-Options, CSP, etc.)
ENABLE_SECURITY_HEADERS=true

# HSTS max-age in seconds (default: 1 year)
HSTS_MAX_AGE=31536000

# ============================================
# RATE LIMITING
# ============================================

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# Max requests per window (for authenticated users)
RATE_LIMIT_MAX=60

# Public endpoint rate limits
PUBLIC_RATE_LIMIT_WINDOW=60
PUBLIC_RATE_LIMIT_MAX=20

# ============================================
# CACHING - REDIS (OPTIONAL)
# ============================================

# Redis URL for rate limiting and caching
# REDIS_URL=redis://localhost:6379/0

# Cache TTL in seconds
CACHE_TTL=300

# ============================================
# ZERO-KNOWLEDGE PROOFS
# ============================================

# ZKP artifacts directory
ZKP_ARTIFACTS_DIR=./zkp/artifacts

# Node.js memory for ZK operations (in MB)
NODE_OPTIONS=--max-old-space-size=4096

# Enable ZK tests
ZK_TESTS=1

# ============================================
# MONITORING
# ============================================

# Prometheus metrics endpoint
PROMETHEUS_ENABLED=true

# Structured logging format (json or text)
LOG_FORMAT=json

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ============================================
# DEVELOPMENT ONLY
# ============================================

# Hot reload
RELOAD=true

# Mock external services
MOCK_FABRIC=true
MOCK_KAFKA=true

# Test user for development
DEV_USER_ID=dev-user-001
DEV_USER_EMAIL=dev@localhost


